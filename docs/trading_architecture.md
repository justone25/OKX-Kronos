# OKX Kronos äº¤æ˜“åŠŸèƒ½æ¶æ„è®¾è®¡

## ğŸ“‹ æ€»ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Web ç”¨æˆ·ç•Œé¢                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ‰‹åŠ¨äº¤æ˜“é¢æ¿  â”‚  ç­–ç•¥ç®¡ç†  â”‚  é£é™©ç›‘æ§  â”‚  è®¢å•ç®¡ç†         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Flask API å±‚                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  /api/trade/*  â”‚  /api/strategy/*  â”‚  /api/risk/*           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   äº¤æ˜“å¼•æ“æ ¸å¿ƒ                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  äº¤æ˜“æ‰§è¡Œå™¨  â”‚  ç­–ç•¥å¼•æ“  â”‚  é£é™©ç®¡ç†å™¨  â”‚  è®¢å•ç®¡ç†å™¨       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   OKX API å°è£…å±‚                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Trade API  â”‚  Account API  â”‚  Market Data API              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   æ•°æ®å­˜å‚¨å±‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  äº¤æ˜“è®°å½•  â”‚  ç­–ç•¥é…ç½®  â”‚  é£é™©å‚æ•°  â”‚  ç³»ç»Ÿæ—¥å¿—            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ—ï¸ æ ¸å¿ƒç»„ä»¶è®¾è®¡

### 1. äº¤æ˜“æ‰§è¡Œå™¨ (TradeExecutor)

**èŒè´£**: æ‰§è¡Œå…·ä½“çš„äº¤æ˜“æ“ä½œ

**åŠŸèƒ½**:
- ä¸‹å• (å¼€ä»“/å¹³ä»“)
- æ’¤å•/æ”¹å•
- æ‰¹é‡æ“ä½œ
- è®¢å•çŠ¶æ€è·Ÿè¸ª

**æ¥å£è®¾è®¡**:
```python
class TradeExecutor:
    def place_order(self, order_params: OrderParams) -> OrderResult
    def cancel_order(self, order_id: str) -> CancelResult
    def modify_order(self, order_id: str, new_params: dict) -> ModifyResult
    def close_position(self, inst_id: str, size: float) -> CloseResult
    def batch_operations(self, operations: List[Operation]) -> BatchResult
```

### 2. ç­–ç•¥å¼•æ“ (StrategyEngine)

**èŒè´£**: åŸºäºAIé¢„æµ‹å’ŒæŠ€æœ¯æŒ‡æ ‡ç”Ÿæˆäº¤æ˜“ä¿¡å·

**åŠŸèƒ½**:
- AIé¢„æµ‹ä¿¡å·å¤„ç†
- æŠ€æœ¯æŒ‡æ ‡è®¡ç®—
- äº¤æ˜“ä¿¡å·ç”Ÿæˆ
- ç­–ç•¥å›æµ‹

**ç­–ç•¥ç±»å‹**:
- **è¶‹åŠ¿è·Ÿè¸ªç­–ç•¥**: åŸºäºAIé¢„æµ‹æ–¹å‘
- **å‡å€¼å›å½’ç­–ç•¥**: ä»·æ ¼åç¦»ä¿®æ­£
- **ç½‘æ ¼ç­–ç•¥**: åŒºé—´éœ‡è¡äº¤æ˜“
- **å¥—åˆ©ç­–ç•¥**: è·¨æœŸ/è·¨å“ç§å¥—åˆ©

**æ¥å£è®¾è®¡**:
```python
class StrategyEngine:
    def generate_signals(self, market_data: MarketData) -> List[Signal]
    def execute_strategy(self, strategy_id: str) -> ExecutionResult
    def backtest_strategy(self, strategy: Strategy, period: str) -> BacktestResult
    def optimize_parameters(self, strategy: Strategy) -> OptimizedParams
```

### 3. é£é™©ç®¡ç†å™¨ (RiskManager)

**èŒè´£**: æ§åˆ¶äº¤æ˜“é£é™©ï¼Œä¿æŠ¤èµ„é‡‘å®‰å…¨

**åŠŸèƒ½**:
- ä»“ä½é™åˆ¶æ£€æŸ¥
- æ­¢æŸæ­¢ç›ˆç®¡ç†
- èµ„é‡‘ç®¡ç†
- é£é™©é¢„è­¦

**é£é™©æ§åˆ¶è§„åˆ™**:
- **æœ€å¤§ä»“ä½é™åˆ¶**: å•å“ç§/æ€»ä»“ä½ä¸Šé™
- **æœ€å¤§äºæŸé™åˆ¶**: å•æ—¥/å•ç¬”/æ€»äºæŸä¸Šé™
- **æ æ†æ§åˆ¶**: åŠ¨æ€æ æ†è°ƒæ•´
- **ç›¸å…³æ€§æ§åˆ¶**: é¿å…è¿‡åº¦é›†ä¸­

**æ¥å£è®¾è®¡**:
```python
class RiskManager:
    def check_order_risk(self, order: Order) -> RiskCheckResult
    def calculate_position_size(self, signal: Signal) -> float
    def monitor_positions(self) -> List[RiskAlert]
    def emergency_stop(self, reason: str) -> StopResult
```

### 4. è®¢å•ç®¡ç†å™¨ (OrderManager)

**èŒè´£**: ç®¡ç†è®¢å•ç”Ÿå‘½å‘¨æœŸå’ŒçŠ¶æ€

**åŠŸèƒ½**:
- è®¢å•çŠ¶æ€è·Ÿè¸ª
- è®¢å•å†å²è®°å½•
- æˆäº¤ç»Ÿè®¡åˆ†æ
- è®¢å•æ€§èƒ½ç›‘æ§

**æ¥å£è®¾è®¡**:
```python
class OrderManager:
    def track_order(self, order_id: str) -> OrderStatus
    def get_order_history(self, filters: dict) -> List[Order]
    def calculate_performance(self, period: str) -> PerformanceMetrics
    def generate_reports(self, report_type: str) -> Report
```

## ğŸ¯ äº¤æ˜“æµç¨‹è®¾è®¡

### æ‰‹åŠ¨äº¤æ˜“æµç¨‹

```
ç”¨æˆ·è¾“å…¥ â†’ å‚æ•°éªŒè¯ â†’ é£é™©æ£€æŸ¥ â†’ ä¸‹å•æ‰§è¡Œ â†’ çŠ¶æ€è·Ÿè¸ª â†’ ç»“æœåé¦ˆ
```

### è‡ªåŠ¨äº¤æ˜“æµç¨‹

```
å¸‚åœºæ•°æ® â†’ AIé¢„æµ‹ â†’ ä¿¡å·ç”Ÿæˆ â†’ ç­–ç•¥è¿‡æ»¤ â†’ é£é™©æ£€æŸ¥ â†’ è‡ªåŠ¨æ‰§è¡Œ â†’ ç›‘æ§è°ƒæ•´
```

## ğŸ“Š æ•°æ®æ¨¡å‹è®¾è®¡

### è®¢å•æ¨¡å‹ (Order)
```python
@dataclass
class Order:
    order_id: str
    client_order_id: str
    instrument_id: str
    side: str  # buy/sell
    order_type: str  # limit/market/stop
    size: float
    price: Optional[float]
    status: str
    created_time: datetime
    filled_size: float
    avg_price: Optional[float]
    fee: float
    strategy_id: Optional[str]
```

### æŒä»“æ¨¡å‹ (Position)
```python
@dataclass
class Position:
    instrument_id: str
    side: str  # long/short
    size: float
    avg_price: float
    unrealized_pnl: float
    margin: float
    leverage: int
    created_time: datetime
    last_update: datetime
```

### äº¤æ˜“ä¿¡å·æ¨¡å‹ (Signal)
```python
@dataclass
class Signal:
    signal_id: str
    instrument_id: str
    direction: str  # buy/sell/hold
    strength: float  # 0-1
    confidence: float  # 0-1
    target_price: Optional[float]
    stop_loss: Optional[float]
    take_profit: Optional[float]
    generated_time: datetime
    source: str  # ai_prediction/technical_indicator
```

## ğŸ”’ å®‰å…¨è®¾è®¡

### 1. æƒé™æ§åˆ¶
- APIå¯†é’¥å®‰å…¨å­˜å‚¨
- æ“ä½œæƒé™åˆ†çº§
- æ•æ„Ÿæ“ä½œäºŒæ¬¡ç¡®è®¤

### 2. é£é™©é˜²æŠ¤
- ç†”æ–­æœºåˆ¶
- å¼‚å¸¸äº¤æ˜“æ£€æµ‹
- èµ„é‡‘å®‰å…¨ä¿æŠ¤

### 3. å®¡è®¡æ—¥å¿—
- æ‰€æœ‰äº¤æ˜“æ“ä½œè®°å½•
- å†³ç­–è¿‡ç¨‹è¿½è¸ª
- å¼‚å¸¸äº‹ä»¶å‘Šè­¦

## ğŸš€ å®æ–½è®¡åˆ’

### Phase 1: åŸºç¡€äº¤æ˜“åŠŸèƒ½
- [x] OKX APIé›†æˆåˆ†æ
- [ ] äº¤æ˜“APIå°è£…
- [ ] æ‰‹åŠ¨äº¤æ˜“ç•Œé¢
- [ ] åŸºç¡€é£é™©æ§åˆ¶

### Phase 2: ç­–ç•¥äº¤æ˜“å¼•æ“
- [ ] AIä¿¡å·å¤„ç†
- [ ] ç­–ç•¥å¼•æ“å¼€å‘
- [ ] è‡ªåŠ¨äº¤æ˜“æ‰§è¡Œ
- [ ] ç­–ç•¥å›æµ‹ç³»ç»Ÿ

### Phase 3: é«˜çº§åŠŸèƒ½
- [ ] å¤šç­–ç•¥ç»„åˆ
- [ ] é«˜çº§é£é™©ç®¡ç†
- [ ] æ€§èƒ½åˆ†ææŠ¥å‘Š
- [ ] ç§»åŠ¨ç«¯æ”¯æŒ

## ğŸ“ˆ æŠ€æœ¯æ ˆ

- **åç«¯**: Python + Flask
- **å‰ç«¯**: JavaScript + Bootstrap
- **æ•°æ®åº“**: SQLite (å¯æ‰©å±•åˆ°PostgreSQL)
- **æ¶ˆæ¯é˜Ÿåˆ—**: Redis (å¼‚æ­¥ä»»åŠ¡)
- **ç›‘æ§**: è‡ªå®šä¹‰æ—¥å¿—ç³»ç»Ÿ
- **éƒ¨ç½²**: Docker + äº‘æœåŠ¡å™¨

## ğŸ›ï¸ é…ç½®ç®¡ç†

### äº¤æ˜“é…ç½®
```yaml
trading:
  max_position_size: 1000  # æœ€å¤§ä»“ä½
  max_daily_loss: 500      # æœ€å¤§æ—¥äºæŸ
  default_leverage: 10     # é»˜è®¤æ æ†
  stop_loss_pct: 0.02      # é»˜è®¤æ­¢æŸæ¯”ä¾‹
  take_profit_pct: 0.06    # é»˜è®¤æ­¢ç›ˆæ¯”ä¾‹

strategies:
  ai_trend_following:
    enabled: true
    confidence_threshold: 0.7
    position_size_pct: 0.1
  
risk_management:
  emergency_stop_loss: 0.1  # ç´§æ€¥æ­¢æŸæ¯”ä¾‹
  max_correlation: 0.8      # æœ€å¤§ç›¸å…³æ€§
  position_check_interval: 30  # ä»“ä½æ£€æŸ¥é—´éš”(ç§’)
```

è¿™ä¸ªæ¶æ„è®¾è®¡ç¡®ä¿äº†ç³»ç»Ÿçš„å¯æ‰©å±•æ€§ã€å®‰å…¨æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œä¸ºåç»­çš„å¼€å‘æä¾›äº†æ¸…æ™°çš„æŒ‡å¯¼ã€‚
