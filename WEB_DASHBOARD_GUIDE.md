# Kronos Web Dashboard 使用指南

## 🎯 概述

Kronos Web Dashboard 是一个精美的Web界面，用于实时展示BTC价格预测趋势和历史记录。界面采用现代化设计，支持响应式布局，提供直观的数据可视化和交互体验。

## 🚀 快速启动

### 1. 确保有预测数据
```bash
# 首先运行预测系统生成数据
./start_continuous.sh production

# 或者快速测试生成一些数据
./start_continuous.sh quick
```

### 2. 启动Web界面
```bash
# 本地访问模式（推荐）
./start_web_dashboard.sh local

# 开发模式（调试开启）
./start_web_dashboard.sh dev

# 公网访问模式（所有IP可访问）
./start_web_dashboard.sh public
```

### 3. 访问界面
- **本地模式**: http://127.0.0.1:8080
- **开发模式**: http://127.0.0.1:5000
- **公网模式**: http://0.0.0.0:8080

## 📊 界面功能

### 🔝 顶部状态卡片

#### 1. 系统状态卡片
- **🟢 运行中**: 系统正常运行，最近1小时内有预测
- **🔴 离线**: 系统停止或超过1小时未更新

#### 2. 当前价格卡片
- 显示最新的BTC-USDT价格
- 实时更新（每30秒）

#### 3. 预测价格卡片
- 显示最新的预测价格
- 基于Kronos AI模型计算

#### 4. 预测趋势卡片
- **🟢 UP**: 预测价格上涨
- **🔴 DOWN**: 预测价格下跌
- **⚪ NEUTRAL**: 价格变化较小
- 显示预测变化百分比

### 📈 价格预测趋势图

#### 功能特性
- **实时图表**: 使用Chart.js绘制的交互式图表
- **双线显示**: 蓝色实线（当前价格）+ 绿色虚线（预测价格）
- **时间范围**: 支持6小时、24小时、48小时、7天视图
- **交互功能**: 鼠标悬停显示详细数据
- **响应式**: 自适应不同屏幕尺寸

#### 操作方法
- 点击右上角按钮切换时间范围
- 鼠标悬停查看具体数值
- 图表自动刷新数据

### 📋 预测记录表格

#### 显示内容
- **时间**: 预测生成时间
- **当前价格**: 预测时的实际价格
- **预测价格**: AI模型预测的价格
- **价格变化**: 预测的价格变化和百分比
- **趋势**: UP/DOWN/NEUTRAL
- **波动率**: 市场波动程度
- **参数**: 模型参数（温度、Top-p、采样次数）

#### 分页功能
- 每页显示10条记录
- 支持翻页浏览历史数据
- 按时间倒序排列（最新在前）

## 🔄 自动刷新机制

### 刷新频率
- **系统状态**: 每30秒更新
- **最新预测**: 每30秒更新
- **图表数据**: 手动刷新或切换时间范围时更新
- **预测记录**: 手动翻页时更新

### 实时性保证
- 数据直接从SQLite数据库读取
- API响应速度快（通常<100ms）
- 前端缓存优化，减少重复请求

## 🎨 界面设计特色

### 现代化UI
- **Bootstrap 5**: 响应式框架
- **Font Awesome**: 丰富的图标库
- **渐变色彩**: 美观的视觉效果
- **卡片设计**: 清晰的信息分组
- **动画效果**: 平滑的交互体验

### 响应式设计
- **桌面端**: 完整功能展示
- **平板端**: 自适应布局
- **手机端**: 优化的移动体验

### 颜色语义
- **蓝色**: 系统信息和当前价格
- **绿色**: 正面趋势和预测价格
- **红色**: 负面趋势和警告
- **灰色**: 中性状态和辅助信息

## 🔧 技术架构

### 后端技术
- **Flask**: 轻量级Web框架
- **SQLite**: 数据存储
- **Pandas**: 数据处理
- **RESTful API**: 标准化接口

### 前端技术
- **HTML5**: 现代化标记
- **CSS3**: 高级样式和动画
- **JavaScript ES6**: 现代化脚本
- **Chart.js**: 专业图表库
- **Bootstrap 5**: 响应式框架

### API接口
- `GET /`: 主页面
- `GET /api/system_status`: 系统状态
- `GET /api/latest_prediction`: 最新预测
- `GET /api/chart_data?hours=24`: 图表数据
- `GET /api/predictions?page=1&per_page=10`: 分页预测记录

## 📱 使用场景

### 1. 实时监控
- 监控系统运行状态
- 查看最新预测结果
- 跟踪价格变化趋势

### 2. 历史分析
- 查看历史预测记录
- 分析预测准确性
- 研究市场趋势

### 3. 参数调优
- 观察不同参数的效果
- 比较预测性能
- 优化模型配置

### 4. 演示展示
- 向他人展示系统功能
- 专业的可视化界面
- 实时数据更新

## 🛠️ 高级配置

### 自定义端口
```bash
python web_dashboard.py --port 9000
```

### 自定义数据库路径
```bash
python web_dashboard.py --db-path /path/to/predictions.db
```

### 生产部署
```bash
# 使用Gunicorn部署
pip install gunicorn
gunicorn -w 4 -b 0.0.0.0:8080 web_dashboard:app
```

## 🔍 故障排除

### 常见问题

1. **页面显示"暂无预测数据"**
   - 确保预测系统正在运行
   - 检查数据库文件是否存在
   - 运行 `./start_continuous.sh quick` 生成测试数据

2. **图表不显示**
   - 检查网络连接（需要加载CDN资源）
   - 确保浏览器支持JavaScript
   - 查看浏览器控制台错误信息

3. **数据不更新**
   - 检查预测系统是否在运行
   - 刷新页面重新加载数据
   - 检查API接口是否正常响应

4. **端口被占用**
   - 使用不同端口：`--port 9000`
   - 检查其他程序是否占用端口
   - 使用 `lsof -i :8080` 查看端口使用情况

### 日志查看
```bash
# Web服务器日志会直接显示在终端
# 预测系统日志在 ./logs/ 目录下
```

## 🎉 最佳实践

1. **同时运行预测系统和Web界面**
   ```bash
   # 终端1：运行预测系统
   ./start_continuous.sh production
   
   # 终端2：运行Web界面
   ./start_web_dashboard.sh local
   ```

2. **定期检查系统状态**
   - 观察系统状态卡片颜色
   - 查看最后更新时间
   - 监控预测记录增长

3. **合理使用时间范围**
   - 短期分析：6-24小时
   - 趋势分析：48小时-7天
   - 根据需要切换视图

4. **移动端访问优化**
   - 使用横屏模式查看图表
   - 利用触摸手势操作
   - 关注关键指标卡片

你的Kronos Web Dashboard现在已经完全就绪！🚀
